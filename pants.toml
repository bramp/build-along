[GLOBAL]
pants_version = "2.29.0"
unmatched_build_file_globs = "error"
backend_packages = [
    "pants.backend.experimental.adhoc",
    "pants.backend.python",
    "pants.backend.shell",

    "pants.backend.build_files.fmt.ruff",
    # This current fails due to a pip install bug.
    # "pants.backend.python.lint.docformatter",
    "pants.backend.experimental.python.lint.ruff.format",

    "pants.backend.experimental.python.lint.ruff.check",
    "pants.backend.experimental.python.typecheck.pyright",

    # Enable this later
    #"pants.backend.python.providers.experimental.pyenv",

    "pants.backend.experimental.tools.yamllint",
]
pants_ignore = [".vscode/settings.json"]

[test]
# Pass through selected environment variables to tests so sandboxed runs can
# toggle integration tests and cassette behavior.
extra_env_vars = ["ENABLE_INTEGRATION_TESTS", "CASSETTE_DIR", "XDG_CACHE_HOME"]

[pytest]
# Ensure pytest plugins that are auto-discovered (like pytest-recording) are available
# in the Pytest runner environment, even if not explicitly imported by tests.
requirements = [
    "pytest>=8.4.2",
    "pytest-cov>=7.0.0",
    "pytest-recording>=0.13.4",
    "vcrpy>=7.0.0",
]

[python]
interpreter_constraints = ["==3.14.*"]
enable_resolves = true
resolves = { python-default = "python-default.lock" }

[python-infer]
unowned_dependency_behavior = "error"

[source]
root_patterns = ["/src/", "/tests/"]


[anonymous-telemetry]
enabled = true
repo_id = "5248FD55-6F42-4A65-9D07-ECA6D25DF325"
